<% cache category do %>
  <%= link_to category, class: 'card link' do %>
    <% if category.icon.attached? %>
      <%= image_tag category.icon, class: 'card-icon' %>
    <% else %>
      <%= render 'no_icon', category: category %>
    <% end %>

    <h1 class="card-title">
      <%= truncate_with_tooltip(category.title, length: CATEGORY_SUMMARY_MAX_TITLE_LENGTH) %>
    </h1>

    <p class="card-description">
      <%= truncate_with_tooltip(category.description,
                                length:    CATEGORY_SUMMARY_MAX_DESCRIPTION_LENGTH,
                                separator: ' ') %>
    </p>
  <% end %>
<% end %>