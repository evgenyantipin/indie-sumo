<div class="topbar fixed-top">
  <div class="topbar-container container">
    <%= link_to 'Indie Sumo', root_path, class: 'logo' %>

    <div class="navigation">
      <div class="menu-item">
        <div class="dropdown-menu">
          <a class="link link-light dropdown-menu-down-arrow" href="#" data-dropdown-menu="toggle">
            Categories
          </a>
          <div data-dropdown-menu="content">
            <div class="categories-dropdown">
              <% categories_array.each do |category| %>
                <%= link_to_unless_current category.title, category,
                                           class: 'link link-dark', data: { 'dropdown-menu': 'item' } do %>
                  <%= link_to category.title, category,
                              class: 'link link-dark active', data: { 'dropdown-menu': 'item' } %>
                <% end %>
                <div class="categories-dropdown-separator">
                  &nbsp;
                </div>
              <% end %>
            </div>
          </div>
        </div>
      </div>

      <div class="menu-item">
        <%= link_to 'Newsletter', newsletter_path, class: 'link link-light' %>
      </div>

      <% unless user_signed_in? %>
        <div class="menu-item">
          <%= link_to 'Log In', new_user_session_path, class: 'link link-light' %>
        </div>
      <% end %>

      <%= form_with url:                 search_path,
                    method:              :get,
                    html:                { class: 'form form-small form-inline' },
                    local:               true,
                    skip_enforcing_utf8: true do |f| %>
        <%= f.label :query, class: 'sr-only' %>
        <%= f.text_field :query,
                         placeholder: 'Search',
                         value:       params[:query],
                         class:       'form-field text-field' %>
        <%= f.submit 'Search', name: nil, class: 'form-field button button-light button-outline' %>
      <% end %>
    </div>

    <a href="#" class="button button-hamburger" data-hamburger-menu="toggle">
      <i class="fas fa-bars"></i>
    </a>
  </div>
</div>
<div class="hamburger-menu container" data-hamburger-menu="content">
  <%= link_to 'Categories', root_path, class: 'hamburger-menu-item link link-dark' %>
  <%= link_to 'Newsletter', newsletter_path, class: 'hamburger-menu-item link link-dark' %>

  <%= form_with url:                 search_path,
                method:              :get,
                html:                { class: 'form' },
                local:               true,
                skip_enforcing_utf8: true do |f| %>
    <%= f.label :query, class: 'sr-only' %>
    <%= f.text_field :query,
                     placeholder: 'Search',
                     value:       params[:query],
                     class:       'form-field text-field' %>
    <%= f.submit 'Search', name: nil, class: 'form-field button button-primary button-outline' %>
  <% end %>
</div>
